# 任务商城系统页面设计方案

## 1. 页面结构概览

### 1.1 整体架构
```
任务商城小程序
├── 首页 (HomePage)
├── 任务大厅 (TaskHall)
├── 商城 (Mall)
├── 收益管理 (Earnings)
└── 个人中心 (Profile)
```

### 1.2 底部导航
- **首页**：任务入口、收益展示
- **任务**：任务列表、任务详情
- **商城**：商品浏览、购物车
- **收益**：收益统计、提现记录
- **我的**：个人中心、设置

## 2. 首页设计 (HomePage)

### 2.1 页面布局
```
┌─────────────────────────┐
│      状态栏 (44px)       │
├─────────────────────────┤
│      搜索栏 (56px)       │
├─────────────────────────┤
│      收益卡片 (120px)    │
├─────────────────────────┤
│      快捷功能 (80px)     │
├─────────────────────────┤
│      任务推荐 (200px)    │
├─────────────────────────┤
│      商品推荐 (200px)    │
├─────────────────────────┤
│      底部导航 (80px)     │
└─────────────────────────┘
```

### 2.2 核心组件

#### 收益展示卡片
```tsx
const EarningsCard = () => (
  <div className="bg-gradient-to-r from-pink-400 to-pink-500 rounded-xl p-6 mx-4 my-4 text-white">
    <div className="flex justify-between items-center mb-4">
      <div>
        <h2 className="text-lg font-semibold">我的收益</h2>
        <p className="text-sm opacity-90">今日已赚取</p>
      </div>
      <Wallet className="w-8 h-8 opacity-80" />
    </div>
    <div className="flex justify-between items-center">
      <div>
        <div className="text-3xl font-bold">¥12.50</div>
        <div className="text-sm opacity-90">可提现余额</div>
      </div>
      <button className="bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm">
        立即提现
      </button>
    </div>
  </div>
)
```

#### 快捷功能区
```tsx
const QuickActions = () => (
  <div className="bg-white mx-4 rounded-lg p-4 mb-4">
    <div className="grid grid-cols-4 gap-4">
      <div className="flex flex-col items-center">
        <div className="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-2">
          <Target className="w-6 h-6 text-orange-500" />
        </div>
        <span className="text-xs text-gray-600">看广告</span>
      </div>
      <div className="flex flex-col items-center">
        <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-2">
          <Play className="w-6 h-6 text-blue-500" />
        </div>
        <span className="text-xs text-gray-600">看视频</span>
      </div>
      <div className="flex flex-col items-center">
        <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-2">
          <Download className="w-6 h-6 text-green-500" />
        </div>
        <span className="text-xs text-gray-600">装APP</span>
      </div>
      <div className="flex flex-col items-center">
        <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-2">
          <Gift className="w-6 h-6 text-purple-500" />
        </div>
        <span className="text-xs text-gray-600">邀请奖励</span>
      </div>
    </div>
  </div>
)
```

## 3. 任务大厅设计 (TaskHall)

### 3.1 页面布局
```
┌─────────────────────────┐
│      状态栏 (44px)       │
├─────────────────────────┤
│      导航栏 (56px)       │
├─────────────────────────┤
│      任务分类 (60px)     │
├─────────────────────────┤
│      任务列表 (flex-1)   │
│                         │
│                         │
├─────────────────────────┤
│      底部导航 (80px)     │
└─────────────────────────┘
```

### 3.2 任务分类标签
```tsx
const TaskCategories = () => (
  <div className="bg-white px-4 py-3 border-b border-gray-100">
    <div className="flex space-x-3">
      <button className="bg-pink-400 text-white px-4 py-2 rounded-full text-sm">
        全部任务
      </button>
      <button className="bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm">
        看广告
      </button>
      <button className="bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm">
        看视频
      </button>
      <button className="bg-gray-100 text-gray-600 px-4 py-2 rounded-full text-sm">
        装APP
      </button>
    </div>
  </div>
)
```

### 3.3 任务卡片
```tsx
const TaskCard = ({ task }) => (
  <div className="bg-white mx-4 mb-3 rounded-lg p-4 shadow-sm border-l-4 border-pink-400">
    <div className="flex justify-between items-start mb-3">
      <div className="flex-1">
        <h3 className="text-lg font-semibold text-gray-800 mb-1">{task.title}</h3>
        <p className="text-sm text-gray-600 mb-2">{task.description}</p>
        <div className="flex items-center space-x-4 text-xs text-gray-500">
          <span className="flex items-center">
            <Clock className="w-4 h-4 mr-1" />
            {task.duration}分钟
          </span>
          <span className="flex items-center">
            <Users className="w-4 h-4 mr-1" />
            {task.participants}人参与
          </span>
        </div>
      </div>
      <div className="text-right">
        <div className="text-2xl font-bold text-orange-500">¥{task.reward}</div>
        <div className="text-xs text-gray-500">奖励</div>
      </div>
    </div>
    
    <div className="flex items-center justify-between">
      <div className="flex items-center space-x-2">
        <div className="w-2 h-2 bg-green-500 rounded-full"></div>
        <span className="text-xs text-gray-600">剩余{task.remaining}个</span>
      </div>
      <button className="bg-pink-400 text-white px-6 py-2 rounded-full text-sm font-medium">
        立即参与
      </button>
    </div>
  </div>
)
```

## 4. 商城设计 (Mall)

### 4.1 页面布局
```
┌─────────────────────────┐
│      状态栏 (44px)       │
├─────────────────────────┤
│      搜索栏 (56px)       │
├─────────────────────────┤
│      商品分类 (60px)     │
├─────────────────────────┤
│      商品网格 (flex-1)   │
│                         │
│                         │
├─────────────────────────┤
│      底部导航 (80px)     │
└─────────────────────────┘
```

### 4.2 商品卡片
```tsx
const ProductCard = ({ product }) => (
  <div className="bg-white rounded-lg overflow-hidden shadow-sm mb-4">
    <div className="relative">
      <img 
        src={product.image} 
        alt={product.title}
        className="w-full h-40 object-cover"
      />
      {product.tag && (
        <div className="absolute top-2 left-2 bg-orange-400 text-white px-2 py-1 rounded text-xs">
          {product.tag}
        </div>
      )}
    </div>
    <div className="p-3">
      <h3 className="text-sm font-medium text-gray-800 mb-1 line-clamp-2">
        {product.title}
      </h3>
      <div className="flex items-center justify-between">
        <div className="flex items-center space-x-1">
          <span className="text-lg font-bold text-orange-500">¥{product.price}</span>
          <span className="text-xs text-gray-400 line-through">¥{product.originalPrice}</span>
        </div>
        <button className="bg-pink-400 text-white px-3 py-1 rounded-full text-xs">
          立即购买
        </button>
      </div>
    </div>
  </div>
)
```

## 5. 收益管理设计 (Earnings)

### 5.1 页面布局
```
┌─────────────────────────┐
│      状态栏 (44px)       │
├─────────────────────────┤
│      导航栏 (56px)       │
├─────────────────────────┤
│      收益统计 (120px)    │
├─────────────────────────┤
│      收益明细 (flex-1)   │
│                         │
│                         │
├─────────────────────────┤
│      底部导航 (80px)     │
└─────────────────────────┘
```

### 5.2 收益统计卡片
```tsx
const EarningsStats = () => (
  <div className="bg-white mx-4 mt-4 rounded-lg p-4">
    <div className="grid grid-cols-3 gap-4 text-center">
      <div>
        <div className="text-2xl font-bold text-pink-500 mb-1">¥12.50</div>
        <div className="text-sm text-gray-500">今日收益</div>
      </div>
      <div>
        <div className="text-2xl font-bold text-pink-500 mb-1">¥156.80</div>
        <div className="text-sm text-gray-500">本月收益</div>
      </div>
      <div>
        <div className="text-2xl font-bold text-pink-500 mb-1">¥1,234.56</div>
        <div className="text-sm text-gray-500">累计收益</div>
      </div>
    </div>
  </div>
)
```

### 5.3 收益明细列表
```tsx
const EarningsItem = ({ earning }) => (
  <div className="bg-white mx-4 mb-2 rounded-lg p-4 flex items-center justify-between">
    <div className="flex items-center space-x-3">
      <div className="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
        <DollarSign className="w-5 h-5 text-green-500" />
      </div>
      <div>
        <h4 className="text-sm font-medium text-gray-800">{earning.taskTitle}</h4>
        <p className="text-xs text-gray-500">{earning.time}</p>
      </div>
    </div>
    <div className="text-right">
      <div className="text-lg font-bold text-green-500">+¥{earning.amount}</div>
      <div className="text-xs text-gray-500">{earning.status}</div>
    </div>
  </div>
)
```

## 6. 个人中心设计 (Profile)

### 6.1 页面布局
```
┌─────────────────────────┐
│      状态栏 (44px)       │
├─────────────────────────┤
│      用户信息 (120px)    │
├─────────────────────────┤
│      数据统计 (80px)     │
├─────────────────────────┤
│      功能菜单 (flex-1)   │
│                         │
│                         │
├─────────────────────────┤
│      底部导航 (80px)     │
└─────────────────────────┘
```

### 6.2 用户信息卡片
```tsx
const UserProfile = () => (
  <div className="bg-white px-4 py-6">
    <div className="flex items-center justify-between mb-6">
      <div className="flex items-center space-x-4">
        <div className="w-16 h-16 bg-pink-300 rounded-full flex items-center justify-center">
          <User className="w-8 h-8 text-white" />
        </div>
        <div>
          <h2 className="text-lg font-semibold text-gray-800">微信用户</h2>
          <p className="text-sm text-gray-500">ID：3585076</p>
          <p className="text-xs text-gray-400">普通用户</p>
        </div>
      </div>
      <button className="bg-pink-400 text-white px-4 py-2 rounded-full text-sm">
        升级VIP
      </button>
    </div>
  </div>
)
```

### 6.3 数据统计
```tsx
const UserStats = () => (
  <div className="bg-white mx-4 rounded-lg p-4 mb-4">
    <div className="grid grid-cols-3 gap-4 text-center">
      <div>
        <div className="text-xl font-bold text-pink-500 mb-1">¥12.50</div>
        <div className="text-sm text-gray-500">余额</div>
      </div>
      <div>
        <div className="text-xl font-bold text-pink-500 mb-1">15</div>
        <div className="text-sm text-gray-500">完成任务</div>
      </div>
      <div>
        <div className="text-xl font-bold text-pink-500 mb-1">3</div>
        <div className="text-sm text-gray-500">邀请好友</div>
      </div>
    </div>
  </div>
)
```

## 7. 通用组件设计

### 7.1 底部导航
```tsx
const BottomNavigation = ({ activeTab, onTabChange }) => {
  const navItems = [
    { id: 'home', icon: Home, label: '首页' },
    { id: 'tasks', icon: Target, label: '任务' },
    { id: 'mall', icon: ShoppingBag, label: '商城' },
    { id: 'earnings', icon: DollarSign, label: '收益' },
    { id: 'profile', icon: User, label: '我的' }
  ]

  return (
    <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2">
      <div className="flex items-center justify-around">
        {navItems.map((item) => (
          <button
            key={item.id}
            onClick={() => onTabChange(item.id)}
            className={`flex flex-col items-center space-y-1 py-1 ${
              activeTab === item.id ? 'text-pink-500' : 'text-gray-600'
            }`}
          >
            <item.icon className="w-5 h-5" />
            <span className="text-xs">{item.label}</span>
          </button>
        ))}
      </div>
    </div>
  )
}
```

### 7.2 搜索栏
```tsx
const SearchBar = () => (
  <div className="bg-white px-4 py-3">
    <div className="flex items-center space-x-3">
      <h1 className="text-lg font-semibold text-gray-800">任务商城</h1>
      <div className="flex-1 flex items-center bg-gray-100 rounded-full px-3 py-2">
        <Search className="w-4 h-4 text-gray-500 mr-2" />
        <input 
          type="text" 
          placeholder="搜索商品或任务"
          className="flex-1 bg-transparent text-sm outline-none"
        />
      </div>
    </div>
  </div>
)
```

## 8. 交互设计规范

### 8.1 页面切换
- 使用底部导航进行主要页面切换
- 页面切换使用淡入淡出效果
- 保持页面状态，避免重复加载

### 8.2 加载状态
- 使用骨架屏显示加载状态
- 网络请求时显示加载指示器
- 错误状态提供重试机制

### 8.3 反馈机制
- 操作成功显示Toast提示
- 错误信息清晰明确
- 重要操作需要确认对话框

## 9. 响应式适配

### 9.1 屏幕适配
- 支持iPhone SE到iPhone Pro Max
- 使用相对单位确保适配性
- 关键信息在小屏幕上保持可读性

### 9.2 横屏适配
- 主要功能保持竖屏使用
- 横屏时调整布局避免内容被遮挡
- 提供横屏提示引导用户竖屏使用

---

**文档版本**：v1.0  
**创建日期**：2024-01-15  
**最后更新**：2024-01-15
